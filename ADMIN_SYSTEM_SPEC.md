# 행복공감사회적협동조합 관리자 시스템 기능 명세서

## 1. 정보구조도 (Information Architecture)

```
┌─ 관리자 시스템
│
├─ 🔐 인증 & 권한 관리
│  ├─ 로그인/로그아웃
│  ├─ 사용자 계정 관리
│  │  ├─ 대표
│  │  ├─ 스태프
│  │  └─ 강사
│  └─ 비밀번호 변경
│
├─ 📋 교육 프로그램 관리
│  ├─ 프로그램 정보 관리
│  │  ├─ AI 수생태 데이터랩
│  │  ├─ 경안천 시민과학단
│  │  └─ 도시농업·환경교육
│  ├─ 교육 일정 관리
│  │  ├─ 일정 등록/수정/삭제
│  │  ├─ 반복 일정 설정
│  │  └─ 공휴일 관리
│  └─ 교육 교재 관리
│     ├─ 교재 업로드
│     ├─ 교재 다운로드 관리
│     └─ 버전 관리
│
├─ 👥 회원 & 신청자 관리
│  ├─ 회원 정보 관리
│  │  ├─ 개인정보 조회/수정
│  │  ├─ 회원 등급 설정
│  │  │  ├─ 어린이
│  │  │  ├─ 청소년
│  │  │  ├─ 일반
│  │  │  └─ 강사
│  │  └─ 회원 통계
│  ├─ 프로그램 신청 관리
│  │  ├─ 신청자 명단 조회
│  │  ├─ 신청 승인/거절
│  │  ├─ 신청자 통계
│  │  └─ 신청자 연락처 내보내기
│  └─ 수강생 관리
│     ├─ 수강 이력 조회
│     ├─ 수료증 발급
│     └─ 참여도 평가
│
├─ 📍 출석 & 교육 이력 관리
│  ├─ 출석부 작성
│  │  ├─ 일일 출석 기록
│  │  ├─ 지각/결석 관리
│  │  └─ 출석 현황 통계
│  ├─ 교육 이력 저장
│  │  ├─ 교육 내용 기록
│  │  ├─ 강사 평가
│  │  └─ 학생 평가
│  └─ 수료 관리
│     ├─ 수료증 자동 생성
│     ├─ 수료 통계
│     └─ 수료증 다운로드
│
├─ 💬 연락 & 소통
│  ├─ 문의 관리
│  │  ├─ 문의 내용 조회
│  │  ├─ 답변 작성
│  │  └─ 문의 상태 관리
│  ├─ 알림 발송
│  │  ├─ 문자 발송
│  │  ├─ 이메일 발송
│  │  ├─ 카카오톡 발송
│  │  └─ 발송 이력 관리
│  └─ 뉴스레터 관리
│     ├─ 뉴스레터 작성
│     ├─ 구독자 관리
│     └─ 발송 이력
│
├─ 📊 공지사항 & 콘텐츠
│  ├─ 공지사항 관리
│  │  ├─ 공지사항 작성/수정/삭제
│  │  └─ 공지사항 조회수 관리
│  ├─ 갤러리 관리
│  │  ├─ 사진·동영상 업로드
│  │  ├─ 앨범 분류
│  │  └─ 컨텐츠 삭제
│  └─ 블로그/칼럼
│     ├─ 글 작성/수정/삭제
│     └─ 카테고리 관리
│
├─ 🛍️ 굿즈 & 판매 관리
│  ├─ 상품 관리
│  │  ├─ 상품 정보 등록
│  │  ├─ 상품 이미지 관리
│  │  ├─ 상품 가격 설정
│  │  └─ 재고 관리
│  ├─ 주문 관리
│  │  ├─ 주문 현황 조회
│  │  ├─ 배송 관리
│  │  └─ 반품·환불 관리
│  └─ 매출 통계
│     ├─ 일일/월간/연간 매출
│     ├─ 상품별 판매량
│     └─ 고객별 구매 이력
│
├─ 💳 결제 & 회계
│  ├─ 결제 관리
│  │  ├─ 교육 비용 결제
│  │  ├─ 굿즈 판매 결제
│  │  └─ 결제 이력 조회
│  ├─ 정산 관리
│  │  ├─ 일일 정산
│  │  ├─ 월간 정산
│  │  └─ 매출 통계
│  └─ 영수증 발급
│
├─ 🔍 데이터 & 분석
│  ├─ AI 생태 데이터
│  │  ├─ 데이터 저장
│  │  ├─ 데이터 조회/분석
│  │  ├─ 데이터 내보내기(CSV/Excel)
│  │  └─ 데이터 시각화
│  ├─ 통계 분석
│  │  ├─ 회원 통계
│  │  ├─ 교육 참여 통계
│  │  ├─ 매출 통계
│  │  └─ 데이터 그래프
│  └─ 보고서 생성
│     ├─ 월간 보고서
│     ├─ 분기별 보고서
│     └─ 연간 보고서
│
├─ 🔐 보안 & 접근 관리
│  ├─ 접근 로그
│  │  ├─ 로그인 기록
│  │  ├─ 활동 기록
│  │  └─ 수정 이력
│  ├─ 보안 설정
│  │  ├─ IP 화이트리스트
│  │  ├─ 2단계 인증
│  │  └─ 비밀번호 정책
│  └─ 데이터 백업
│     ├─ 자동 백업
│     ├─ 수동 백업
│     └─ 복구 기능
│
└─ ⚙️ 시스템 설정
   ├─ 사이트 설정
   │  ├─ 기본 정보 수정
   │  ├─ 메뉴 설정
   │  └─ 스타일 설정
   ├─ 이메일/SMS 템플릿
   │  ├─ 환영 메일
   │  ├─ 수료증
   │  ├─ 알림 메시지
   │  └─ 자동 발송 설정
   └─ 외부 서비스 연동
      ├─ 카카오톡 연동
      ├─ SMS 서비스 연동
      ├─ 결제 PG 연동
      └─ 구글 애널리틱스
```

---

## 2. 권한별 기능 매트릭스

### 대표 (최고 권한)
- ✅ 모든 관리 기능
- ✅ 사용자 계정 관리
- ✅ 보안 설정
- ✅ 시스템 설정
- ✅ 재무 보고서 조회

### 스태프 (일반 관리자)
- ✅ 교육 프로그램 관리
- ✅ 회원 및 신청자 관리
- ✅ 출석 및 이력 관리
- ✅ 공지사항 및 갤러리 관리
- ✅ 이메일/문자 발송
- ❌ 결제 정보 조회 (제한)
- ❌ 사용자 계정 생성 (불가)

### 강사 (제한 권한)
- ✅ 자신의 교육 일정 조회
- ✅ 자신의 출석부 작성
- ✅ 수강생 명단 조회
- ✅ 수강생 평가 입력
- ❌ 다른 강사의 정보 (불가)
- ❌ 결제 정보 (불가)

---

## 3. 주요 기능 명세

### 3.1 회원 관리
- **기능**: 개인정보 관리, 등급 관리, 이력 조회
- **데이터**: 이름, 연락처, 이메일, 생년월일, 등급, 가입일
- **권한**: 대표(모두), 스태프(조회/수정), 강사(자신)

### 3.2 교육 신청 관리
- **기능**: 신청자 확인, 승인/거절, 명단 다운로드
- **상태**: 신청, 승인, 거절, 수료
- **통계**: 신청자 수, 승인률, 등급별 참여도

### 3.3 출석부
- **기능**: 일일 출석 기록, 지각/결석 관리
- **데이터**: 날짜, 이름, 출석 상태, 비고
- **내보내기**: Excel 다운로드

### 3.4 자동 알림 발송
- **채널**: 문자(SMS), 이메일, 카카오톡
- **트리거**: 교육 D-1, 신청 승인, 수료 완료
- **통계**: 발송 현황, 실패 로그

### 3.5 AI 생태 데이터 관리
- **저장**: 관측 일시, 위치, 생물종, 사진, 메모
- **조회**: 필터링, 검색, 지도 표시
- **분석**: 시간별/종별/위치별 통계
- **공유**: CSV/Excel 내보내기

### 3.6 굿즈 판매 관리
- **기능**: 상품 등록, 재고 관리, 주문 추적
- **결제**: 신용카드, 무통장입금
- **통계**: 판매량, 매출, 인기상품

### 3.7 데이터 백업
- **자동 백업**: 일일 자동 백업
- **수동 백업**: 언제든 다운로드 가능
- **복구**: 원하는 시점으로 복구 가능

---

## 4. 기술 사양

### 데이터베이스
- **구조**: 관계형 데이터베이스 (MySQL/PostgreSQL)
- **보안**: 암호화된 저장, SSL 연결

### 보안
- **인증**: 아이디/비밀번호 + 2단계 인증
- **권한**: 역할 기반 접근 제어 (RBAC)
- **로깅**: 모든 활동 기록 및 감시
- **방화벽**: IP 화이트리스트 지원

### API 연동
- **SMS**: 카카오 알림톡, NAVER SMS
- **이메일**: SMTP 연동
- **결제**: 아임포트, PG사 (토스, 카카오페이 등)
- **소셜**: 카카오톡 로그인

---

## 5. 구현 우선순위

### Phase 1 (필수)
1. 회원 관리 (가입, 등급 설정)
2. 교육 신청 관리 (신청 승인)
3. 출석부 (기본 기능)
4. 공지사항 관리
5. 기본 로그인/권한

### Phase 2 (권장)
1. 자동 알림 발송 (SMS/이메일)
2. AI 데이터 관리 (저장/조회)
3. 교육 이력 관리
4. 수료증 자동 생성
5. 기본 통계

### Phase 3 (확장)
1. 굿즈 판매 (쇼핑몰)
2. 결제 시스템 (PG 연동)
3. 고급 데이터 분석
4. 2단계 인증
5. API 개발

---

## 6. 데이터 모델

### Users Table
```
id, username, password, name, email, phone, role, grade, created_at, updated_at
```

### Programs Table
```
id, title, description, start_date, end_date, location, capacity, created_at
```

### Applications Table
```
id, user_id, program_id, status(applied/approved/rejected/completed), applied_at
```

### Attendance Table
```
id, user_id, program_id, date, status(present/absent/late), notes
```

### EcologyData Table
```
id, observation_date, location, species, quantity, photo_url, notes, created_by
```

### Notices Table
```
id, title, content, author_id, created_at, updated_at, view_count
```

### Products Table
```
id, name, description, price, stock, category, image_url, created_at
```

---

## 7. 예상 개발 기간

| Phase | 기간 | 비고 |
|-------|------|------|
| Phase 1 | 3-4주 | 기본 기능 |
| Phase 2 | 4-5주 | API 연동 |
| Phase 3 | 6-8주 | 고급 기능 |
| **합계** | **13-17주** | **약 3-4개월** |

---

## 8. 예상 비용

| 항목 | 비용 | 비고 |
|------|------|------|
| 개발 인력 (개발자 1명) | 1,500만원 | 3개월 |
| 호스팅/서버 | 월 10만원 | 월간 유지비 |
| SSL 인증서 | 월 1만원 | 보안 |
| SMS/이메일 API | 월 5만원 | 사용료 |
| 데이터베이스 | 월 5만원 | 클라우드 DB |
| **월간 유지비** | **약 21만원** | **상시 비용** |

---

## 9. 향후 고려사항

- ✅ 모바일 앱 개발 (iOS/Android)
- ✅ AI를 활용한 자동 출석 인식
- ✅ 온라인 실시간 강의 기능 (WebRTC)
- ✅ 증강현실(AR) 교육 콘텐츠
- ✅ 블록체인 기반 수료증

---

*문서 작성일: 2025-12-10*
*최종 수정: 2025-12-10*
